{
  "description": "Self-attention with three identical tokens ('a','a','a') and dim=4. Identical embeddings produce identical Q/K rows, yielding perfectly uniform attention weights (each â‰ˆ 1/3).",
  "inputs": {
    "tokens": ["a", "a", "a"],
    "embeddingDim": 4
  },
  "expectedStepCount": 11,
  "keyStates": [
    {
      "stepId": "show-input",
      "state": {
        "tokens": ["a", "a", "a"],
        "embeddingDim": 4
      }
    },
    {
      "stepId": "apply-softmax",
      "checks": {
        "attentionWeightsRowSum": 1.0,
        "uniformWeight": 0.3333333333333333,
        "tolerance": 1e-6
      }
    },
    {
      "stepId": "complete",
      "state": {
        "tokens": ["a", "a", "a"]
      }
    }
  ],
  "invariants": {
    "attentionWeightRowsSumToOne": true,
    "allWeightsNonNegative": true,
    "uniformWeights": true,
    "noNaNOrInfinity": true
  }
}
