{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://eigenvue.web.app/schemas/meta.schema.json",
  "title": "AlgorithmMeta",
  "description": "Complete metadata descriptor for a single algorithm in the Eigenvue platform.",
  "type": "object",
  "required": [
    "id",
    "name",
    "category",
    "description",
    "complexity",
    "visual",
    "inputs",
    "code",
    "education",
    "seo",
    "prerequisites",
    "related",
    "author",
    "version"
  ],
  "additionalProperties": false,
  "properties": {
    "id": {
      "type": "string",
      "minLength": 1,
      "description": "Unique algorithm identifier (e.g. \"binary-search\")."
    },
    "name": {
      "type": "string",
      "minLength": 1,
      "description": "Human-readable display name."
    },
    "category": {
      "type": "string",
      "enum": ["classical", "deep-learning", "generative-ai", "quantum"],
      "description": "Top-level algorithm category."
    },
    "description": {
      "$ref": "#/$defs/AlgorithmDescription"
    },
    "complexity": {
      "$ref": "#/$defs/AlgorithmComplexity"
    },
    "visual": {
      "$ref": "#/$defs/AlgorithmVisual"
    },
    "inputs": {
      "$ref": "#/$defs/AlgorithmInputs"
    },
    "code": {
      "$ref": "#/$defs/AlgorithmCode"
    },
    "education": {
      "$ref": "#/$defs/AlgorithmEducation"
    },
    "seo": {
      "$ref": "#/$defs/AlgorithmSeo"
    },
    "prerequisites": {
      "type": "array",
      "description": "IDs of algorithms that should be understood first.",
      "items": {
        "type": "string"
      }
    },
    "related": {
      "type": "array",
      "description": "IDs of related algorithms.",
      "items": {
        "type": "string"
      }
    },
    "author": {
      "type": "string",
      "minLength": 1,
      "description": "Author or maintainer of this algorithm definition."
    },
    "version": {
      "type": "string",
      "minLength": 1,
      "description": "Semantic version of this algorithm definition."
    }
  },
  "$defs": {
    "AlgorithmDescription": {
      "type": "object",
      "required": ["short", "long"],
      "additionalProperties": false,
      "properties": {
        "short": {
          "type": "string",
          "description": "One-line summary."
        },
        "long": {
          "type": "string",
          "description": "Detailed multi-sentence description."
        }
      }
    },
    "AlgorithmComplexity": {
      "type": "object",
      "required": ["time", "space", "level"],
      "additionalProperties": false,
      "properties": {
        "time": {
          "type": "string",
          "description": "Big-O time complexity (e.g. \"O(log n)\")."
        },
        "space": {
          "type": "string",
          "description": "Big-O space complexity (e.g. \"O(1)\")."
        },
        "level": {
          "type": "string",
          "enum": ["beginner", "intermediate", "advanced", "expert"],
          "description": "Difficulty level."
        }
      }
    },
    "AlgorithmVisual": {
      "type": "object",
      "required": ["layout"],
      "additionalProperties": false,
      "properties": {
        "layout": {
          "type": "string",
          "minLength": 1,
          "description": "Layout strategy for the visualisation (e.g. \"array\", \"graph\", \"tree\")."
        },
        "theme": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "primary": {
              "type": "string",
              "description": "Primary colour (CSS value)."
            },
            "secondary": {
              "type": "string",
              "description": "Secondary colour (CSS value)."
            }
          },
          "required": ["primary", "secondary"]
        },
        "components": {
          "type": "object",
          "description": "Additional renderer-specific component configuration.",
          "additionalProperties": true
        }
      }
    },
    "AlgorithmInputExample": {
      "type": "object",
      "required": ["name", "values"],
      "additionalProperties": false,
      "properties": {
        "name": {
          "type": "string",
          "minLength": 1,
          "description": "Display name for this example (e.g. \"Sorted array\")."
        },
        "values": {
          "type": "object",
          "description": "Input parameter values for this example.",
          "additionalProperties": true
        }
      }
    },
    "AlgorithmInputs": {
      "type": "object",
      "required": ["schema", "defaults", "examples"],
      "additionalProperties": false,
      "properties": {
        "schema": {
          "type": "object",
          "description": "JSON Schema describing the algorithm's input parameters.",
          "additionalProperties": true
        },
        "defaults": {
          "type": "object",
          "description": "Default values for the input parameters.",
          "additionalProperties": true
        },
        "examples": {
          "type": "array",
          "description": "Named example input sets.",
          "items": {
            "$ref": "#/$defs/AlgorithmInputExample"
          }
        }
      }
    },
    "AlgorithmCode": {
      "type": "object",
      "required": ["implementations", "defaultLanguage"],
      "additionalProperties": false,
      "properties": {
        "implementations": {
          "type": "object",
          "required": ["pseudocode", "python"],
          "additionalProperties": false,
          "properties": {
            "pseudocode": {
              "type": "string",
              "description": "Pseudocode implementation."
            },
            "python": {
              "type": "string",
              "description": "Python implementation."
            },
            "javascript": {
              "type": "string",
              "description": "JavaScript implementation (optional)."
            }
          }
        },
        "defaultLanguage": {
          "type": "string",
          "minLength": 1,
          "description": "Language shown by default in the code panel."
        }
      }
    },
    "KeyConcept": {
      "type": "object",
      "required": ["title", "description"],
      "additionalProperties": false,
      "properties": {
        "title": {
          "type": "string",
          "minLength": 1
        },
        "description": {
          "type": "string"
        }
      }
    },
    "Pitfall": {
      "type": "object",
      "required": ["title", "description"],
      "additionalProperties": false,
      "properties": {
        "title": {
          "type": "string",
          "minLength": 1
        },
        "description": {
          "type": "string"
        }
      }
    },
    "QuizItem": {
      "type": "object",
      "required": ["question", "options", "correctIndex", "explanation"],
      "additionalProperties": false,
      "properties": {
        "question": {
          "type": "string",
          "minLength": 1
        },
        "options": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 2
        },
        "correctIndex": {
          "type": "integer",
          "minimum": 0,
          "description": "0-based index into the options array."
        },
        "explanation": {
          "type": "string"
        }
      }
    },
    "Resource": {
      "type": "object",
      "required": ["title", "url", "type"],
      "additionalProperties": false,
      "properties": {
        "title": {
          "type": "string",
          "minLength": 1
        },
        "url": {
          "type": "string",
          "format": "uri"
        },
        "type": {
          "type": "string",
          "minLength": 1,
          "description": "Resource type (e.g. \"article\", \"video\", \"paper\")."
        }
      }
    },
    "AlgorithmEducation": {
      "type": "object",
      "required": ["keyConcepts", "pitfalls", "quiz", "resources"],
      "additionalProperties": false,
      "properties": {
        "keyConcepts": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/KeyConcept"
          }
        },
        "pitfalls": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/Pitfall"
          }
        },
        "quiz": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/QuizItem"
          }
        },
        "resources": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/Resource"
          }
        }
      }
    },
    "AlgorithmSeo": {
      "type": "object",
      "required": ["keywords", "ogDescription"],
      "additionalProperties": false,
      "properties": {
        "keywords": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "SEO keywords for search engines."
        },
        "ogDescription": {
          "type": "string",
          "description": "OpenGraph description for social media previews."
        }
      }
    }
  }
}
