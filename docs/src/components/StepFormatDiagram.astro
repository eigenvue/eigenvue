---
/**
 * StepFormatDiagram — SVG diagram illustrating the three-layer architecture.
 * Generator Layer → Step Format (universal contract) → Rendering Layer.
 */
---

<div style="text-align: center; margin: 2rem 0;">
  <svg viewBox="0 0 700 120" xmlns="http://www.w3.org/2000/svg" style="max-width: 100%; height: auto;">
    <defs>
      <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
        <polygon points="0 0, 10 3.5, 0 7" fill="var(--sl-color-accent, #8b5cf6)" />
      </marker>
    </defs>
    <rect x="10" y="30" width="180" height="60" rx="8" fill="var(--sl-color-accent-low, #1e1b4b)" stroke="var(--sl-color-accent, #8b5cf6)" stroke-width="2"/>
    <text x="100" y="55" text-anchor="middle" fill="var(--sl-color-text, #f0f0f0)" font-size="13" font-weight="600">Generator Layer</text>
    <text x="100" y="75" text-anchor="middle" fill="var(--sl-color-gray-3, #94a3b8)" font-size="10">TypeScript / Python</text>
    <line x1="195" y1="60" x2="255" y2="60" stroke="var(--sl-color-accent, #8b5cf6)" stroke-width="2" marker-end="url(#arrowhead)"/>
    <rect x="260" y="30" width="180" height="60" rx="8" fill="var(--sl-color-accent-low, #1e1b4b)" stroke="#00ffc8" stroke-width="2"/>
    <text x="350" y="55" text-anchor="middle" fill="var(--sl-color-text, #f0f0f0)" font-size="13" font-weight="600">Step Format</text>
    <text x="350" y="75" text-anchor="middle" fill="var(--sl-color-gray-3, #94a3b8)" font-size="10">Universal Contract</text>
    <line x1="445" y1="60" x2="505" y2="60" stroke="var(--sl-color-accent, #8b5cf6)" stroke-width="2" marker-end="url(#arrowhead)"/>
    <rect x="510" y="30" width="180" height="60" rx="8" fill="var(--sl-color-accent-low, #1e1b4b)" stroke="var(--sl-color-accent, #8b5cf6)" stroke-width="2"/>
    <text x="600" y="55" text-anchor="middle" fill="var(--sl-color-text, #f0f0f0)" font-size="13" font-weight="600">Rendering Layer</text>
    <text x="600" y="75" text-anchor="middle" fill="var(--sl-color-gray-3, #94a3b8)" font-size="10">Canvas 2D / Layouts</text>
  </svg>
</div>
